# 什么是CAP理论

一个分布式系统最多只能同时满足一致性，可用性和分区容错性这三项中的两项。

## 一致性(C)

每次读取都会收到最新的写入数据或错误信息。

## 可用性(A)

每个请求都会收到(非错误的)响应，但不能保证响应包含最新的写入数据。

## 分区容错性(P)

尽管网络节点之间会丢弃(或延迟)任意数量的消息，系统任然能够继续运行。

## AP的例子

为了保证高可用，需要在用户在访问是能够迅速返回，每个节点只能用本地数据返回，这样会造成全局数据的不一致。
12306购票软件

## CP的例子

涉及到钱财的必须保证C，网络发生故障宁可停掉服务，这是保证CP，舍弃A。
支付宝电缆被挖，支付宝长期的宕机事件，就是在可用性和数据一致性选择了数据一致性。

## 适合的才是最好的